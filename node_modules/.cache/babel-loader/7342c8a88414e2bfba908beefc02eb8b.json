{"ast":null,"code":"import _objectSpread from \"/home/ubuntu/\\xC1rea de Trabalho/Laborat\\xF3ria/SAP003-burger-queen/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"/home/ubuntu/\\xC1rea de Trabalho/Laborat\\xF3ria/SAP003-burger-queen/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/ubuntu/\\xC1rea de Trabalho/Laborat\\xF3ria/SAP003-burger-queen/src/pages/Restaurante.js\";\nimport React, { useState, useEffect } from 'react';\nimport Button from '../componentes/button/Button';\nimport MenuList from '../componentes/menu/Menu';\nimport firebase from '../utils/config.js';\nimport { StyleSheet, css } from \"aphrodite\";\nimport Input from '../componentes/input/Input'; //import { tsPropertySignature } from '@babel/types';\n//import Item from './componentes/selectItem/Item'\n\nconst style = StyleSheet.create({\n  disInline: {\n    display: 'inline-block',\n    backgroundColor: 'red'\n  },\n  AppHeader: {\n    backgroundColor: 'blue'\n  },\n  aaa: {\n    color: \"red\"\n  }\n}); //<Button text=\"Clique aqui\" />\n\nfunction Restaurante() {\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        item1 = _useState2[0],\n        setItem1 = _useState2[1];\n\n  const _useState3 = useState([]),\n        _useState4 = _slicedToArray(_useState3, 2),\n        item2 = _useState4[0],\n        setItem2 = _useState4[1];\n\n  const _useState5 = useState([]),\n        _useState6 = _slicedToArray(_useState5, 2),\n        productSelect = _useState6[0],\n        setProductSelect = _useState6[1];\n\n  const _useState7 = useState(\"breakfast\"),\n        _useState8 = _slicedToArray(_useState7, 2),\n        filterMenu = _useState8[0],\n        setFilterMenu = _useState8[1];\n\n  const _useState9 = useState([]),\n        _useState10 = _slicedToArray(_useState9, 2),\n        client = _useState10[0],\n        setClient = _useState10[1];\n\n  const _useState11 = useState(''),\n        _useState12 = _slicedToArray(_useState11, 2),\n        table = _useState12[0],\n        setTable = _useState12[1];\n\n  const _useState13 = useState(''),\n        _useState14 = _slicedToArray(_useState13, 2),\n        total = _useState14[0],\n        setTotal = _useState14[1];\n\n  const _useState15 = useState([]),\n        _useState16 = _slicedToArray(_useState15, 2),\n        options = _useState16[0],\n        setOptions = _useState16[1];\n\n  useEffect(() => {\n    firebase.collection('Menu').get().then(snapshot => {\n      const products = snapshot.docs.filter(doc => doc.data().breakfast).map(doc => _objectSpread({\n        id: doc.id\n      }, doc.data()));\n      setItem1(products);\n      const products2 = snapshot.docs.filter(doc => doc.data().lunch).map(doc => _objectSpread({\n        id: doc.id\n      }, doc.data()));\n      setItem2(products2);\n    });\n  }, []);\n\n  function onSubmit(e) {\n    e.preventDefault();\n    firebase.collection('client').add({\n      client,\n      table: parseInt(table),\n      productSelect,\n      total\n    }).then(() => {\n      setTable('');\n      setClient('');\n      setProductSelect([]);\n      setTotal('');\n    });\n  }\n\n  const increaseUnit = product => {\n    if (!productSelect.includes(product)) {\n      product.contador = 1;\n      setProductSelect([...productSelect, product]);\n    } else {\n      product.contador += 1;\n      setProductSelect([...productSelect]);\n    }\n  };\n\n  function decreaseUnit(product) {\n    if (product.contador === 1) {\n      const removerProductForm = productSelect.filter(erase => {\n        return erase !== product;\n      });\n      setProductSelect([...removerProductForm]);\n    } else {\n      product.contador--;\n      setProductSelect([...productSelect]);\n    }\n  }\n\n  const openOptions = elem => {\n    if (elem.options.length !== 0) {\n      setOptions(elem);\n    } else {\n      increaseUnit(elem);\n    }\n  };\n\n  const valueOrder = productSelect.reduce((acc, item) => acc + item.contador * item.price, 0);\n\n  const removeItem = item => {\n    const index = productSelect.indexOf(item);\n    productSelect.splice(index, 1);\n    setProductSelect([...productSelect]);\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(\"section\", {\n    className: \"App\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  }, React.createElement(\"header\", {\n    className: css(style.AppHeader),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }, \"OIiiiii\"), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116\n    },\n    __self: this\n  }, React.createElement(Button, {\n    className: style.aaa,\n    handleClick: () => setFilterMenu('breakfast'),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  }, \"Breakfast\"), React.createElement(Button, {\n    className: style.aaa,\n    handleClick: () => setFilterMenu('lunch'),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120\n    },\n    __self: this\n  }, \"All Day\")), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125\n    },\n    __self: this\n  }, \"Menu\"), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126\n    },\n    __self: this\n  }, React.createElement(MenuList, {\n    menuItens: filterMenu === \"breakfast\" ? item1 : item2,\n    handleClick: openOptions,\n    name: productSelect.name,\n    price: productSelect.price,\n    key: productSelect.id,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127\n    },\n    __self: this\n  })))), React.createElement(\"section\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136\n    },\n    __self: this\n  }, options.length !== 0 ? options.options.map((elem, index) => React.createElement(\"div\", {\n    key: index,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"button\",\n    name: \"types\",\n    value: elem,\n    onClick: () => {\n      const teste = _objectSpread({}, options, {\n        name: `${options.name} ${elem}`\n      });\n\n      increaseUnit(teste);\n      setOptions([]);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140\n    },\n    __self: this\n  }))) : false), React.createElement(\"section\", {\n    className: css(style.disInline),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155\n    },\n    __self: this\n  }, React.createElement(\"strong\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156\n    },\n    __self: this\n  }, \"Cliente\")), React.createElement(Input, {\n    id: \"input-client\",\n    type: \"text\",\n    state: client,\n    handleChange: e => setClient(e.currentTarget.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158\n    },\n    __self: this\n  }), React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160\n    },\n    __self: this\n  }, React.createElement(\"strong\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161\n    },\n    __self: this\n  }, \"Mesa\")), React.createElement(Input, {\n    id: \"input-number\",\n    type: \"number\",\n    state: table,\n    handleChange: e => setTable(e.currentTarget.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163\n    },\n    __self: this\n  })), productSelect.map((product, index) => React.createElement(\"div\", {\n    key: index,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166\n    },\n    __self: this\n  }, React.createElement(Button, {\n    text: '-',\n    handleClick: () => decreaseUnit(product),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168\n    },\n    __self: this\n  }), product.contador, React.createElement(Button, {\n    text: '+',\n    handleClick: () => increaseUnit(product),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170\n    },\n    __self: this\n  }), product.name, \" R$ \", product.price, \",00\", React.createElement(Button, {\n    text: 'Del',\n    handleClick: e => {\n      e.preventDefault();\n      removeItem(product);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172\n    },\n    __self: this\n  }))), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180\n    },\n    __self: this\n  }, React.createElement(\"strong\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180\n    },\n    __self: this\n  }, \"Valor do Pedido: \", valueOrder)), React.createElement(Button, {\n    classname: style.myButton,\n    id: \"button\",\n    handleClick: onSubmit,\n    text: 'Enviar Pedido',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181\n    },\n    __self: this\n  })));\n}\n\n;\nexport default Restaurante;","map":{"version":3,"sources":["/home/ubuntu/Área de Trabalho/Laboratória/SAP003-burger-queen/src/pages/Restaurante.js"],"names":["React","useState","useEffect","Button","MenuList","firebase","StyleSheet","css","Input","style","create","disInline","display","backgroundColor","AppHeader","aaa","color","Restaurante","item1","setItem1","item2","setItem2","productSelect","setProductSelect","filterMenu","setFilterMenu","client","setClient","table","setTable","total","setTotal","options","setOptions","collection","get","then","snapshot","products","docs","filter","doc","data","breakfast","map","id","products2","lunch","onSubmit","e","preventDefault","add","parseInt","increaseUnit","product","includes","contador","decreaseUnit","removerProductForm","erase","openOptions","elem","length","valueOrder","reduce","acc","item","price","removeItem","index","indexOf","splice","name","teste","currentTarget","value","myButton"],"mappings":"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","sourcesContent":["import React,{ useState, useEffect } from 'react';\nimport Button from '../componentes/button/Button';\nimport MenuList from '../componentes/menu/Menu';\nimport firebase from '../utils/config.js';\nimport { StyleSheet, css } from \"aphrodite\";\nimport Input from '../componentes/input/Input';\n//import { tsPropertySignature } from '@babel/types';\n//import Item from './componentes/selectItem/Item'\n\nconst style = StyleSheet.create({\n  disInline: {\n    display:'inline-block',\n    backgroundColor:'red',\n  },\n  AppHeader:{\n    backgroundColor: 'blue',\n  },\n  aaa: {\n    color: \"red\"\n  }\n\n})\n\n//<Button text=\"Clique aqui\" />\n\nfunction Restaurante() {\n  const [item1, setItem1] = useState([]);\n  const [item2, setItem2] = useState([]);\n  const [productSelect, setProductSelect] = useState([]);\n  const [filterMenu, setFilterMenu] = useState(\"breakfast\");\n  const [client, setClient] = useState ([]);\n  const [table,setTable] = useState('');\n  const [total,setTotal] = useState('');\n  const [options, setOptions] = useState([]);\n  \n  useEffect(() => {\n\n    firebase.collection('Menu')\n      .get().then((snapshot) => {\n        const products = snapshot.docs.filter(doc => doc.data().breakfast).map((doc)=>({\n          id: doc.id,\n          ...doc.data()\n        }))\n        setItem1(products)\n\n        const products2 = snapshot.docs.filter(doc => doc.data().lunch).map((doc)=>({\n          id: doc.id,\n          ...doc.data()\n        }))\n        setItem2(products2)\n\n    })\n  }, [])\n\n  function onSubmit(e){\n    e.preventDefault()\n\n      firebase.collection('client')\n      .add({\n        client,\n        table: parseInt(table),\n        productSelect,\n        total,\n      })\n      .then(() => {\n        setTable('')\n        setClient('')\n        setProductSelect([])\n        setTotal('')\n      })\n  }\n\n  const increaseUnit = (product) =>{\n    if(!productSelect.includes(product)) {\n        product.contador = 1;\n        setProductSelect([...productSelect, product])\n    } else {\n        product.contador += 1;\n        setProductSelect([...productSelect])             \n       }   \n  }\n\n  function decreaseUnit(product) {\n    if(product.contador === 1) {\n        const removerProductForm = productSelect.filter((erase) => {\n          return erase !== product;   \n      })\n      setProductSelect([...removerProductForm])\n    } else {\n        product.contador --\n        setProductSelect([...productSelect])             \n       }   \n  }\n\n  const openOptions = (elem) => { \n    if(elem.options.length !== 0){\n        setOptions(elem) \n    } else {\n        increaseUnit(elem);\n    }\n\n}\n\n  const valueOrder = productSelect.reduce((acc, item) => acc + ( item.contador * item.price), 0);\n\n  const removeItem = (item) => {\n    const index = (productSelect.indexOf(item));\n    productSelect.splice(index, 1);\n    setProductSelect([...productSelect]);\n  }\n  \n  return (\n   <>\n    <section className=\"App\">\n      <header className={css(style.AppHeader)}>OIiiiii</header>\n        <div>\n         <Button className={style.aaa} handleClick={() => setFilterMenu('breakfast') }>\n            Breakfast\n          </Button>\n         <Button className={style.aaa} handleClick={() => setFilterMenu('lunch') }>\n          All Day\n          </Button>\n        </div>\n        <div>\n         <h2>Menu</h2>\n          <div>\n            <MenuList \n              menuItens={filterMenu === \"breakfast\" ? item1 : item2} \n              handleClick={openOptions} \n              name={productSelect.name} \n              price={productSelect.price} key={productSelect.id}/>\n        </div>\n      </div> \n    </section>\n\n    <section>\n        {options.length !== 0 ? \n          options.options.map((elem, index) => (\n              <div key={index}>\n                 <input \n                 type=\"button\"\n                 name=\"types\" \n                 value={elem} \n                 onClick={()=> {\n                const teste= {...options, name: `${options.name} ${elem}`}; \n                  increaseUnit(teste)\n                  setOptions([]);\n                  }}\n                /> \n         </div>)) : false}\n               \n            </section>\n    <section className={css(style.disInline)}>\n      <div>\n          <label>\n            <strong>Cliente</strong>\n          </label>\n         <Input id='input-client' type=\"text\" state={client} handleChange={e => setClient(e.currentTarget.value)}/>\n\n       <label>\n         <strong>Mesa</strong>\n       </label> \n         <Input id='input-number' type=\"number\" state={table} handleChange={e => setTable(e.currentTarget.value)}/>\n      </div>\n          {productSelect.map((product, index) => (\n              <div key={index}> \n              \n              <Button text={'-'} handleClick={() => decreaseUnit (product)} />  \n                {product.contador}\n              <Button text={'+'} handleClick={() => increaseUnit (product)} />\n              {product.name} R$ {product.price},00 \n                <Button text={'Del'} handleClick={(e) => {\n                e.preventDefault(); \n                removeItem(product);\n                }} />\n            </div>   \n      ))}\n            \n                \n       <p><strong>Valor do Pedido: {valueOrder}</strong></p>\n       <Button classname={style.myButton} id='button' handleClick={onSubmit} text={'Enviar Pedido'}/>   \n    </section>\n\n  </>\n  );\n};\n\nexport default Restaurante;\n"]},"metadata":{},"sourceType":"module"}